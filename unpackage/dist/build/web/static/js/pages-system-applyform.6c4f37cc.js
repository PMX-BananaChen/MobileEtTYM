(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-system-applyform"],{"05db":function(e,t,r){var a=r("c86c");t=a(!1),t.push([e.i,".demo-checkbox-group[data-v-5492ee8c]{margin:10px 0 0 20px}.demo-checkbox[data-v-5492ee8c]{margin:100px 0 0 20px}.value-class[data-v-5492ee8c]{flex:none!important}.icon[data-v-5492ee8c]{width:20px}.weui-tabbar[data-v-5492ee8c]{display:flex;position:fixed;z-index:500;bottom:0;width:100%;background-color:#f7f7fa}.van-tabbar-item--active[data-v-5492ee8c]{color:#e10f02}.gridCell[data-v-5492ee8c] .van-icon{font-size:50px}.vant-nav-bar-index[data-v-5492ee8c] .van-icon-arrow-left:before{color:#999;block-size:30px}",""]),e.exports=t},"0f4b":function(e,t,r){"use strict";r.r(t);var a=r("2b6d"),o=r("659e");for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);r("7613");var i=r("828b"),s=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"5492ee8c",null,!1,a["a"],void 0);t["default"]=s.exports},2774:function(e,t,r){r("01a2"),r("e39c"),r("bf0f"),r("844d"),r("18f7"),r("de6c"),r("08eb"),e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"2b6d":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-form",{ref:"form",attrs:{model:"form"}},[r("van-nav-bar",{attrs:{"left-arrow":!0},on:{"click-left":function(t){arguments[0]=t=e.$handleEvent(t),e.backHome.apply(void 0,arguments)}}}),r("van-field",{attrs:{label:"申请工号","error-message":e.errorMsg.empnoa,required:!0},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.validCode0.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.query.apply(void 0,arguments)}},model:{value:e.form.empno,callback:function(t){e.$set(e.form,"empno",t)},expression:"form.empno"}}),r("van-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"创建者工号",readonly:!0},model:{value:e.form.createuserempno,callback:function(t){e.$set(e.form,"createuserempno",t)},expression:"form.createuserempno"}}),r("div",[r("table",[r("tr",[r("td",[r("v-uni-label",{staticStyle:{"font-size":"15px",margin:"60px 0 0 10px"}},[e._v("通行日期")])],1),r("td",[r("v-uni-picker",{attrs:{mode:"multiSelector",range:e.dateTimeArray},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)},columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.columnchange.apply(void 0,arguments)}},model:{value:e.form.dateTime,callback:function(t){e.$set(e.form,"dateTime",t)},expression:"form.dateTime"}},[r("v-uni-input",{staticStyle:{margin:"5px 0 0 28px"},attrs:{type:"text",disabled:"true","placeholder-class":"inputPlace"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)])])]),r("van-field",{attrs:{label:"开始时段","error-message":e.errorMsg.startperioda,placeholder:"请输入开始时段,如1200",border:!1,required:!0},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.validCode.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.query1.apply(void 0,arguments)}},model:{value:e.form.startime,callback:function(t){e.$set(e.form,"startime",t)},expression:"form.startime"}}),r("van-field",{attrs:{label:"结束时段","error-message":e.errorMsg.endperioda,placeholder:"请输入结束时段,如1800",border:!1,required:!0},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.validCode2.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.query2.apply(void 0,arguments)}},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,"endtime",t)},expression:"form.endtime"}}),r("van-field",{attrs:{"error-message":e.errorMsg.resulta,type:"textarea",placeholder:"请输入申请理由",rows:"3",autosize:!0,required:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.query3.apply(void 0,arguments)}},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}}),r("div",{staticStyle:{margin:"16px"}},[r("van-button",{attrs:{round:!0,block:!0,type:"primary","native-type":"submit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit("form")}}},[e._v("提交")])],1),r("div",[r("loading",{attrs:{text:e.loadText},model:{value:e.showLoading,callback:function(t){e.showLoading=t},expression:"showLoading"}})],1),r("van-tabbar",{staticClass:"weui-tabbar",attrs:{"active-color":"#ff4c7f"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.tabbars,(function(t,a){return r("van-tabbar-item",{key:"tabbar"+a,attrs:{to:t.name},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tabIndex(a)}},scopedSlots:e._u([{key:"icon",fn:function(e){return[r("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:e.active?t.active:t.normal}})]}}],null,!0)},[r("span",[e._v(e._s(t.title))])])})),1)],1)},o=[]},"2d44":function(e,t,r){var a=r("05db");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=r("967d").default;o("6e002042",a,!0,{sourceMap:!1,shadowMode:!1})},3553:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("5c47"),r("0506"),r("a1c1"),r("bf0f"),r("2797"),r("aa9c"),r("64aa");var a=r("1f67"),o=r("1fb6"),n=r("70d2"),i={data:function(){return{form:{empno:this.$store.state.userId,createuserempno:this.$store.state.userId,dateTime:"",date:"",startime:"",endtime:"",remark:""},showLoading:!1,loadText:"处理",active:0,errorMsg:{empnoa:"",startperioda:"",endperioda:"",resulta:""},tabbars:[{name:"/apply",title:"申请",normal:r("bfc7"),active:r("bbd1")},{name:"/login",title:"工作台",normal:r("d689"),active:r("fb63")},{name:"/mynavigation",title:"我的",normal:r("eba7"),active:r("3e20")}]}},created:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),o=t+"-"+this.withData(r)+"-"+this.withData(a),i=n.dateTimePicker(2e3,2050,o);this.dateTimeArray=i.dateTimeArray,this.form.dateTime=i.dateTime,this.form.date=o},onLoad:function(){},methods:{validCode0:function(){var e=this.form.empno;if(e){if(!/^[0-9]*$/.test(e))return this.errorMsg.empnoa="工号只能是数字",this.form.empno.focus(),!1;this.errorMsg.empnoa=""}else this.errorMsg.empnoa="请输入工号",this.form.empno.focus()},validCode:function(){if(null===this.form.remark||""===this.form.remark)return this.errorMsg.resulta="备注不能为空",this.form.remark.focus(),!1;this.form.startime=this.form.startime.replace("：","").replace(":","");var e=this.form.startime.replace("：","").replace(":","");if(e){if(!/^(([01]?[0-9]|2[0-3])[0-5][0-9])$/.test(e))return this.errorMsg.startperioda="时间格式",!1;this.errorMsg.startperioda=""}else this.errorMsg.startperioda="请输入"},validCode2:function(){this.form.endtime=this.form.endtime.replace("：","").replace(":","");var e=this.form.endtime.replace("：","").replace(":",""),t=this.form.startime.replace("：","").replace(":","");if(e){if(!/^([01]?[0-9]|2[0-3])[0-5][0-9]$/.test(e))return this.errorMsg.endperioda="时间格式",!1;if(this.errorMsg.endperioda="",t>e)return this.errorMsg.endperioda="开始时间大于结束时间",!1;if(t===e)return this.errorMsg.endperioda="开始时间不能等于结束时间",!1}else this.errorMsg.endperioda="请输入"},withData:function(e){return e<10?"0"+e:""+e},change:function(e){var t=this,r=[];e.detail.value.forEach((function(e,a){0===a?r.push(t.withData(e)):r.push(t.withData(e+1))}));var a="20"+r[0]+"-"+r[1]+"-"+r[2];this.form.date=a,console.log(this.form.date)},query:function(e){e&&(this.form.empno=e.detail)},query1:function(e){e&&(this.form.startime=e.detail)},query2:function(e){e&&(this.form.endtime=e.detail)},query3:function(e){e&&(this.form.remark=e.detail)},onIndexChange:function(e){var t=e;switch(t){case"apply":this.title="放行申请",this.$router.push("/apply");break;case"work":this.title="工作台",this.$router.push("/login");break;case"myinformation":this.title="我的",this.$router.push("/mynavigation");break}},columnchange:function(e){var t=this.dateTimeArray,r=this.form.dateTime;r[e.detail.column]=e.detail.value,t[2]=n.getMonthDay(t[0][r[0]],t[1][r[1]]),this.dateTimeArray=t,this.form.dateTime=r},submit:function(e){var t=this;if(null===this.form.empno||""===this.form.empno)this.errorMsg.resulta="工号不能为空!";else{this.validCode();var r=this;r.showLoading=!0,(0,a.addReleaseapply)(this.form).then((function(e){if(200===e.code)if(r.showLoading=!1,e.data.Message.length>0)t.errorMsg.resulta=e.data.Message;else{t.errorMsg.resulta="新增成功!",t.tabIndex="work",t.onIndexChange(t.tabIndex);t.$router.push("/waitcheck")}else t.errorMsg.resulta="新增失败!"}))}},tabIndex:function(e){e=Number(e),this.active=e,this.$store.commit("setTableIndex","/apply");var t=this.tabbars[e].name;this.$router.push(t)},backHome:function(){this.$router.push(this.$store.state.tableIndex)}},components:{Loading:o.Loading}};t.default=i},"659e":function(e,t,r){"use strict";r.r(t);var a=r("3553"),o=r.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},"70d2":function(e,t,r){var a=r("d189").default;function o(e){return e<10?"0"+e:""+e}function n(e,t){e=e||0,t=t||1;for(var r=[],a=e;a<=t;a++)r.push(o(a));return r}function i(e,t){var r=e%400==0||e%4==0&&e%100!=0,a=null;switch(t){case"01":case"03":case"05":case"07":case"08":case"10":case"12":a=n(1,31);break;case"04":case"06":case"09":case"11":a=n(1,30);break;case"02":a=n(1,r?29:28);break;default:a="月份格式不正确，请重新输入！"}return a}r("aa9c"),r("bf0f"),r("5ef2"),e.exports={dateTimePicker:function(e,t,r){var s=[],l=[[],[],[]],c=e||1978,d=t||2100,u=r.split(" ")[0].split("-"),f=r?a(u):function(){var e=new Date,t=o(e.getFullYear()),r=o(e.getMonth()+1),a=o(e.getDate());return[t,r,a]}();return l[0]=n(c,d),l[1]=n(1,12),l[2]=i(f[0],f[1]),l.forEach((function(e,t){return s.push(e.indexOf(f[t]))})),{dateTimeArray:l,dateTime:s}},getMonthDay:i}},7613:function(e,t,r){"use strict";var a=r("2d44"),o=r.n(a);o.a},"79b7":function(e,t,r){r("f7a5"),r("bf0f"),r("08eb"),r("18f7"),r("5c47"),r("0506");var a=r("e476");e.exports=function(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},9376:function(e,t,r){r("7a76"),r("c9b5"),e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},d189:function(e,t,r){var a=r("e2db"),o=r("2774"),n=r("79b7"),i=r("9376");e.exports=function(e){return a(e)||o(e)||n(e)||i()},e.exports.__esModule=!0,e.exports["default"]=e.exports},e2db:function(e,t,r){var a=r("e476");e.exports=function(e){if(Array.isArray(e))return a(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e476:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a},e.exports.__esModule=!0,e.exports["default"]=e.exports}}]);